<!--
  ~    Copyright 2026 moha-al-ariefy
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<idea-plugin>
    <id>com.hackathon.aihelper</id>
    <name>AUEV</name>
    <vendor email="ma9802234@gmail.com">Solo Dev</vendor>

    <description><![CDATA[
    Adds ghost text to your editor. It's like having a senior dev over your shoulder,
    but without the judgment. <br>
    <em>Powered by caffeine, anxiety, and Java 21.</em>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.hackathon.aihelper.settings.AppSettingsState"/>

        <applicationConfigurable
                parentId="tools"
                instance="com.hackathon.aihelper.settings.AppSettingsConfigurable"
                id="com.hackathon.aihelper.AppSettingsConfigurable"
                displayName="AUEV"/>

        <toolWindow id="AI Assistant"
                    secondary="false"
                    anchor="right"
                    icon="AllIcons.General.ContextHelp"
                    factoryClass="com.hackathon.aihelper.ui.AIChatToolWindowFactory"/>

        <!--
             I updated this to 'postStartupActivity' which maps to ProjectActivity now.
             The old 'startupActivity' is discouraged in 2025.
        -->
        <postStartupActivity implementation="com.hackathon.aihelper.PluginStartup"/>
    </extensions>

    <actions>
        <action id="com.hackathon.aihelper.ApplyGhostAction"
                class="com.hackathon.aihelper.ApplyGhostAction"
                text="Apply AI Suggestion"
                description="Accepts the current ghost text because typing is hard">
            <keyboard-shortcut keymap="$default" first-keystroke="TAB"/>
            <add-to-group group-id="EditorActions" anchor="last"/>
        </action>

        <action id="com.hackathon.aihelper.ClearGhostAction"
                class="com.hackathon.aihelper.ClearGhostAction"
                text="Clear AI Suggestion"
                description="Banishes the ghost back to the void">
            <keyboard-shortcut keymap="$default" first-keystroke="ESCAPE"/>
        </action>
    </actions>
</idea-plugin>